<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-a-Sketch! (T.O.P.)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Welcome to Etch-a-Sketch on Browser!</h1>
    <button id="reset">Reset</button>
    <div class="container">
    
    </div>
    
    <script>
        console.log("test");

        let container = document.querySelector('.container');

        let newDiv = document.createElement("div");
        let newDivText = document.createTextNode("");
        newDiv.appendChild(newDivText);
        
        //console.log(newDiv.textContent);

        newDiv.classList.add("box");
        container.appendChild(newDiv);

        for(let i = 0;i < 16;i++){
            for(let j = 0;j < 16;j++){
                newDiv.classList.add("box");
                container.appendChild(newDiv);

                newDiv = document.createElement("div");
                newDivText = document.createTextNode("");
                newDiv.appendChild(newDivText);
            }
        }

        let drag = false;
        container.addEventListener('mousedown',()=>{
            drag = true;
            console.log(drag);
        });

        container.addEventListener('mousemove',(event)=>{
            if(drag){
                let target = event.target;
                console.log("hovered");
                target.style.backgroundColor = "pink";
            }
        });
        container.addEventListener('mouseup', () => {
            drag = false;
            }  
        );

        let boxAll = document.querySelectorAll('div.box');
        

        let reset = document.querySelector("#reset");
        reset.addEventListener('click',()=>{
            boxAll.forEach((square)=> {
                square.remove();
            })

            let size = Number(prompt("How large would you like your square grid to be?"));
            
            for(let i = 0;i < size;i++){
            for(let j = 0;j < size;j++){
                newDiv.classList.add("box");
                container.appendChild(newDiv);

                newDiv = document.createElement("div");
                newDivText = document.createTextNode("");
                newDiv.appendChild(newDivText);
                }
            }
            boxAll = document.querySelectorAll('div.box');
            boxAll.forEach((square) => {
                square.style.backgroundColor = "black";
            })
            //document.querySelector(".container").style.maxWidth = size*29 + "px";
        })
    </script>
</body>
</html>